schema: '2.0'
stages:
  load_data:
    cmd: python src/data/load_data.py
    deps:
    - path: data/raw/application_train.csv
      hash: md5
      md5: 793a017f41fbac1dc28176b26dbab30e
      size: 166133370
      isexec: true
    - path: src/data/load_data.py
      hash: md5
      md5: dbe6e469fd6c65f8337ce661e3c79424
      size: 1395
      isexec: true
    outs:
    - path: data/raw/home_credit_raw.csv
      hash: md5
      md5: a6d63fdce8d0dc089c03a1bfea35cedf
      size: 165141285
      isexec: true
  preprocess:
    cmd: python src/data/preprocess.py
    deps:
    - path: data/raw/home_credit_raw.csv
      hash: md5
      md5: a6d63fdce8d0dc089c03a1bfea35cedf
      size: 165141285
      isexec: true
    - path: src/data/preprocess.py
      hash: md5
      md5: 34f66591d19f38e1831457cba034ecc7
      size: 4665
      isexec: true
    params:
      params.yaml:
        preprocess.random_state: 42
        preprocess.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 075aa110440308737923624b7acf0ce1
      size: 65321630
      isexec: true
    - path: data/processed/train.csv
      hash: md5
      md5: d3221d7352c4ec42100eb304ae60185e
      size: 261275291
      isexec: true
    - path: models/scaler.pkl
      hash: md5
      md5: cf06577bbcf6dab7c05aeb5670cb8946
      size: 3799
      isexec: true
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: d3221d7352c4ec42100eb304ae60185e
      size: 261275291
      isexec: true
    - path: src/models/train.py
      hash: md5
      md5: de27f15c7a65e786677b8b7e7b57eb8f
      size: 4124
      isexec: true
    params:
      params.yaml:
        train.max_depth: 10
        train.max_features: log2
        train.min_samples_leaf: 7
        train.min_samples_split: 15
        train.n_estimators: 120
        train.random_state: 42
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 8d3f81ba4e0083ebb2c9d22867cfc43a
      size: 182
      isexec: true
    - path: models/credit_model.pkl
      hash: md5
      md5: 9b34f553b3df012d8e01cd0b47f036ef
      size: 10711369
      isexec: true
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 075aa110440308737923624b7acf0ce1
      size: 65321630
      isexec: true
    - path: models/credit_model.pkl
      hash: md5
      md5: 9b34f553b3df012d8e01cd0b47f036ef
      size: 10711369
      isexec: true
    - path: src/models/evaluate.py
      hash: md5
      md5: 068ee13b3dbc96c5506e865624f50a78
      size: 5286
      isexec: true
    params:
      params.yaml:
        evaluate.threshold: 0.5
    outs:
    - path: metrics/test_metrics.json
      hash: md5
      md5: d96c38ae833bfd70d552a7ed51046f5e
      size: 178
      isexec: true
    - path: plots/confusion_matrix.png
      hash: md5
      md5: 14d9f38d808e0ee8367b34527a4eeffd
      size: 59035
      isexec: true
    - path: plots/precision_recall_curve.png
      hash: md5
      md5: 1f6a8c745cccfabf4e1d5e9bfa32d924
      size: 82698
      isexec: true
    - path: plots/prediction_distribution.png
      hash: md5
      md5: 78ef3a08c148e1550748f70a053d4a8d
      size: 95451
      isexec: true
    - path: plots/roc_curve.png
      hash: md5
      md5: 95555dc199b7aa0d4e234a7e88bbf1ba
      size: 166577
      isexec: true
